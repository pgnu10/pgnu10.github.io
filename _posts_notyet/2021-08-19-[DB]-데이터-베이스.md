---
title: '[DB] 데이터베이스: 특징, 데이터 무결성, 트랜잭션, 명령어'
excerpt: '데이터베이스, 데이터 무결성, 트랜잭션, 데이터베이스 명령어에 대해 알아봅니다.'
categories:
  - 데이터베이스
tags:
  - 기술면접 준비
  - 데이터베이스
  - DB
  - 데이터베이스 특징
  - 데이터 무결성
  - 참조 무결성
  - 트랜잭션
  - ACID
  - 데이터베이스 명령어
  - 비전공자를 위한
toc: true
toc_sticky: true
date: '2021-08-31'
lastmod: '2022-01-16'
---

# 데이터베이스 Database, DB

<p align="center"><img src="/assets/images/database.png"></p>

데이터베이스란 "여러 사람이 공유하여 사용할 목적으로 체계화해 통합, 관리하는 데이터의 집합"입니다. 따라서 데이터베이스에서는 중복된 데이터를 없애고, 자료를 구조화하여 저장하며, 효율적인 처리를 할 수 있도록 관리됩니다.

데이터베이스는 1950년 미국에서 군비의 효율적 관리를 위해 컴퓨터를 활용한 도서관 개념을 개발하고, 이를 데이터의 기지라는 뜻으로 데이터베이스라고 부른 것에서 출발하였습니다. 

데이터베이스는 응용 프로그램과는 다른 별도의 미들웨어에 의해 관리됩니다. 이것을 데이터베이스 관리 시스템(Database Management System, DBMS)라고 합니다.

## 데이터베이스의 특징

1. 자기기술성: DBMS를 사용하여 자기 스스로 데이터를 쓰고 지울 수 있는 특성입니다. 데이터/구조적 종속적인 파일 시스템과 데이터베이스를 구분하는 특징입니다.
2. 데이터의 독립성: 응용 프로그램 내에서 데이터를 개별적으로 관리한다면, 데이터 구조 등이 변경되면 응용 프로그램도 수정되어야 합니다. 그러나 데이터베이스틑 DBMS라는 미들웨어 덕에 변경 사항이 응용 프로그램의 구조에 영향을 미치지 않아, 관련된 응용 프로그램을 수정할 필요가 없습니다.
3. **데이터 무결성**: 여러 경로를 통해 잘못된 데이터가 발생하는 경우의 수를 방지하는 기능으로 데이터의 유효성 검사를 통해 데이터의 무결성을 구현하게 됩니다.
4. 동시 공유: 특정 업무만을 위한 것이 아닌 공유 데이터 공급 기지로서 공유 데이터를 보관, 관리합니다. 즉 다수의 사용자, 다수의 업무로부터의 동시 접근이 가능합니다.
5. 데이터 보안성: 인가된 사용자들만 접근할 수 있도록 권한을 설정함으로써 데이터 보안을 구현할 수 있습니다.
6. 데이터 일관성: 연관된 정보를 논리적인 구조로 관리함으로써 어떤 하나의 데이터만 변경했을 경우 발생할 수 있는 데이터 불일치를 방지할 수 있습니다. 또한 작업 중 일부 데이터만 변경되어 나머지 데이터와 일치하지 않는 경우의 수를 배제할 수 있습니다.
7. 데이터 중복 최소화: 데이터베이스는 데이터를 통합해서 관리함으로써 파일 시스템의 단점 중 하나인 데이터 중복 문제를 해결할 수 있습니다.

### 데이터 무결성 Data Integrity

데이터 무결성은 데이터의 정확성, 일관성, 유효성이 유지되는 것을 말합니다. 다음 4가지 무결성을 유지해야 합니다.

1. 개체 무결성 Entity integrity: 모든 테이블이 기본 키(primary key)로 선택된 필드 (column)을 가져야 합니다. 기본 키로 선택된 필드는 고유한 값을 가져야 하며, 빈 값은 허용되지 않습니다.
    - "학생" 테이블의 기본 키인 "학번" 필드는 반드시 특정 값을 가져야합니다.
2. **참조 무결성** Referential integrity: 참조 관계에 있는 두 테이블의 데이터가 항상 일관된 값을 갖도록 유지해야 합니다. 한 테이블에서 데이터가 삭제되면, 해당 데이터를 참조한 또 다른 테이블의 데이터 또한 수정이 이루어져야 합니다.
   - "학생" 테이블의 "홍길동" 학생이 전학을 갔다면, "수학여행 수요조사" 테이블의 "홍길동" 학생의 데이터 또한 수정이 이루어져야 합니다.
3. 도메인 무결성 Domain integrity: 필드의 무결성을 보장하기 위한 것으로 필드의 타입, Null 값의 허용 등에 대한 사항을 정의합니다.
   - 학생의 "나이" 필드에 알파벳을 입력할 수 없도록 정의하는 것입니다.
4. 무결성 규칙 Integrity rule: 데이터의 무결성을 지키기 위해 데이터베이스 전체에 공통적으로 적용되는 모든 제약 사항들을 말합니다.

#### 참조 무결성 Referential Integrity

데이터베이스에서는 참조 대상이 존재하지 않는 외래 키를 허용하지 않는 방식으로 참조 무결성을 유지합니다.

- 외래 키(Foreign key)란 한 테이블의 행에서 다른 테이블의 행을 참조하기 위한 key 입니다. 일반적으로 행을 식별하기 위한 고유값("학번" 등)을 사용합니다. 

외래 키에 RESTRICTED, CASCADE, SET NULL 기능을 적용하여 참조 무결성을 유지합니다.

- RESTRICTED: 레코드를 변경/삭제하려 할 때, 해당 레코드를 참조하는 개체가 있다면 연산을 취소합니다.
- CASCADE: 레코드를 변경/삭제하려 할 때, 해당 레코드를 참조하는 개체도 변경/삭제합니다.
- SET NULL: 레코드를 변경/삭제하면, 해당 레코드를 참조하는 개체의 값을 NULL로 설정합니다.

## 트랜잭션 Transaction

트랜잭션은 데이터베이스의 처리 단위입니다. 여러 쿼리들을 묶어서 하나의 작업을 의미하는 단위로, 데이터베이스 작업의 완전성을 보장합니다.

하나의 트랜잭션을 구성하는 여러 개의 쿼리들 중 하나라도 잘못된 쿼리가 있다면, 트랜잭션을 실행하기 전 상태로 복구하여 작업이 일부만 적용되는 현상을 방지해줍니다.

트랜잭션은 여러 개의 DML 명령어와 Commit 혹은 Rollback으로 만들어집니다. 

- 커밋은 트랜잭션으로 묶인 모든 쿼리가 실행되어 성공하면 트랜잭션의 결과를 DB에 영구적으로 저장하는 작업입니다.
- 반대로 쿼리가 하나라도 실패하면 쿼리 실행 결과를 모두 취소하고 DB를 트랜잭션 실행 이전의 상태로 되돌리는 것을 롤백이라고 합니다.

### ACID

트랜잭션이 안전하게 수행된다는 것을 보장하기 위한 4가지 성질을 ACID라고 합니다.

- Atomicity 원자성: 트랜잭션 중간에 문제가 발생한다면 해당 트랜잭션의 모든 쿼리는 수행되어서는 안됩니다.
- Consistency 일관성: 데이터가 변동되었을 때 해당 데이터가 저장된 모든 곳의 데이터 또한 같이 변동되어야 합니다. 예를 들어 ATM에서 돈을 입금했을 경우 ATM기에 표기되는 잔고와 은행 본점 데이터베이스에 표기되는 잔고는 동일해야 합니다.
- Isolation 고립성: 각각의 트랜잭션은 간섭없이 독립적으로 수행되어야 합니다.
- Durability 지속성: 트랜잭션이 정상적으로 종료된 다음에는 해당 결과가 데이터베이스에 영구적으로 저장되어야 합니다.

## 데이터베이스 명령어: DML, DDL, DCL, TCL

- DML (Data Manipulation Language, 데이터 조작어): 데이터베이스 내 데이터들을 조작하는 명령어로, INSERT, UPDATE, DELETE, SELECT가 해당됩니다.
- DDL (Data Definition Language, 데이터 정의어):  데이터 정의 언어로 테이블을 만들거나 삭제하고 변경합니다. CREATE, ALTER, DROP 등이 해당됩니다.
- DCL (Data Control Language, 데이터 제어 언어): 데이터베이스에 권한을 부여하는 명령어로, 데이터베이스에 대한 엑세스 권한을 제공/철회합니다.
- TCL (Transaction Control Language, 데이터 제어 언어): 트랜잭션을 제어하는 명령어로, 트랜잭션의 커밋, 롤백이 포함됩니다.

## 참고자료

<details><summary>펼치기</summary>
<div markdown="1">

- https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4
- phatplus from www.flaticon.com
- http://tcpschool.com/mysql/DB
- https://namu.wiki/w/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4
- https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/Database#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4
- By User:Booyabazooka - 자작, 퍼블릭 도메인, https://commons.wikimedia.org/w/index.php?curid=5343275
- http://tcpschool.com/mysql/mysql_intro_relationalDB
- https://sorrow16.tistory.com/39
- https://untitledtblog.tistory.com/123
- https://namu.wiki/w/NoSQL
- https://iamfreeman.tistory.com/entry/DBMS-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%96%B8%EC%96%B4-DDL-DML-DCL-TCL-%EC%9D%98-%EC%A0%95%EC%9D%98
</div>
</details>
